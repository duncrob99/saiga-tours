<style>
    #
    {{ uid|default:"tour_cards" }}
    .text-card .card-body {
        min-height: {{ min_height|default:300 }}px;
    }
</style>

<div class="row" id="{{ uid|default:"tour_cards" }}">
    {% for tour in tours %}
        <div class="d-flex flex-column tour-col col-xl-4 col-lg-6 col-md-12 g-0">
            <div start_date="{{ tour.start_date|date:'Y-m-d' }}"
                 end_date="{{ tour.end_date|date:'Y-m-d' }}"
                 price="{{ tour.price }}"
                 duration="{{ tour.duration }}"
                 destinations="


                         {% for destination in tour.destinations.all %}{% if forloop.counter > 1 %} {% endif %}{{ destination.slug }}{% endfor %}"
                 hidden class="tour-data">
            </div>


            <div class="card order-2 text-card tour-text flex-grow-1 mx-4"
                    {% if tour.state.border_color is not None %}
                 style="border-color: {{ tour.state.border_color }};"
                    {% endif %}>
                <div class="card-body">
                    {{ tour.excerpt }}
                </div>
                <div class="card-footer">
                    <table class="table table-borderless">
                        {% if tour.dated %}
                            <tr>
                                <th class="table-icon"><i class="bi bi-calendar4-range"></i></th>
                                <td class="table-value">{{ tour.start_date }} - {{ tour.end_date }}</td>
                            </tr>
                        {% endif %}
                        <tr>
                            <th class="table-icon"><i class="bi bi-clock-history"></i></th>
                            <td class="table-value">{{ tour.duration }} day{% if tour.duration > 1 %}s{% endif %}</td>
                        </tr>
                        <tr>
                            <th class="table-icon"><i class="bi bi-coin"></i></th>
                            <td class="table-value">{{ settings.price_prefix }}{{ tour.price }}</td>
                        </tr>
                    </table>
                    <a class="stretched-link"
                       href="{% url 'tour' tour.slug %}{% if parent %}?parent={{ parent }}{% endif %}"></a>
                </div>
            </div>

            <div class="card order-1 img-title-card img-card mt-4 mx-4"
                    {% if tour.state.border_color is not None %}
                 style="border-color: {{ tour.state.border_color }}"
                    {% endif %}>
                <img loading="lazy" src="{{ tour.card_img.url }}" class="card-img" alt="{{ tour.name }}">
                <div class="card-img-overlay">
                    <h5 class="card-title">{{ tour.name }}</h5>
                    {% if tour.state is not None %}
                        <div class="state" style="background-color: {{ tour.state.color }};
                                color: {{ tour.state.text_color }}">{{ tour.state.text }}</div>
                    {% endif %}
                </div>
                <a class="stretched-link"
                   href="{% url 'tour' tour.slug %}{% if parent %}?parent={{ parent }}{% endif %}"></a>
            </div>
        </div>
    {% endfor %}
</div>