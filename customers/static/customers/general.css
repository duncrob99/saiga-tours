html {
    overflow: hidden;
}

body {
    background: var(--accent-background);
    display: grid;
    grid-template-columns: 3fr 2fr;
    grid-template-rows: min-content 1fr;
    grid-template-areas: 
        "nav nav"
        "image form";
    height: 100svh;
    margin: 0;
    overflow: auto;
    position: relative;
}

body > nav {
    grid-area: nav;
}

body:after {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: url('https://www.state.gov/wp-content/uploads/2019/04/Turkmenistan-2116x1406.jpg');
    background-size: cover;
    background-position: center;
    z-index: -2;
    transform: scaleX(-1);
}

.image-content {
    grid-area: image;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    z-index: 1;
}

.image-content h1 {
    color: var(--accent-foreground);
    font-family: 'Burford Rustic Book', 'Roboto', sans-serif;
    font-size: clamp(3rem, 10vw, 5rem);
    text-outline: 3px rgba(0,0,0,0.2);
    -webkit-text-stroke: 3px rgba(255,255,255,0.1);
    text-shadow: 0 0 8px rgba(0,0,0,1);
    text-align: center;
}

.form-col {
    grid-area: form;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    max-width: 100vw;
}

.form-col-background {
    position: fixed;
    grid-area: form;
    background: white;
    z-index: -1;
    transform-origin: center left;
    width: 300%;
    height: 100%;
    transform: rotate(20deg) scaleY(10);
    background: var(--accent-background);
}

@media (min-width: 1000px) {
    .form-col {
        padding-left: 5rem;
    }
}

@media (max-width: 1000px) {
    .form-col-background {
        transform: rotate(20deg) scaleY(10) translateX(50vw);
    }

    body {
        grid-template-columns: 1fr !important;
        grid-template-rows: min-content 1fr 3fr;
        grid-template-areas: 
            "nav"
            "image"
            "form";
    }
}

.form-card {
    background-color: #fff;
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    box-shadow: 0 1px 3px rgba(0,0,0,.13);
    margin: 10px;
    padding: 15px;
    width: max-content;
    max-width: calc(100% - 30px);
}

.form-card:empty {
    display: none;
}

.form-card label {
    display: none;
}

.form-card .field {
    margin-bottom: 1em;
    position: relative;
}

.form-card .inline-row {
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    gap: 1em;
}

.form-card input {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    box-shadow: inset 0 1px 2px rgba(0,0,0,.1);
    box-sizing: border-box;
    color: #333;
    display: block;
    font-size: 14px;
    margin: 0;
    outline: 0;
    padding: 8px 12px;
    transition: border-color .1s ease-in-out;
    width: 100%;
}

.form-card input:focus {
    border-color: var(--accent-foreground);
    box-shadow: 0 0 0 1px #c8e1ff;
}

.form-card :is(button, a.btn) {
    border-radius: 3px;
    box-shadow: 0 1px 0 rgba(0,0,0,.1);
    cursor: pointer;
    display: block;
    font-size: 14px;
    font-weight: 600;
    line-height: 1;
    margin: 0;
    outline: 0;
    padding: 8px 12px;
    text-align: center;
    text-decoration: none;
    transition: background-color .1s ease-in-out, border-color .1s ease-in-out, color .1s ease-in-out;
    width: 100%;
    white-space: nowrap;
}

.form-card :is(button, a.btn):disabled {
    cursor: default;
    opacity: 0.5;
}

.form-card .btn-group {
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    gap: 1em;
}

.form-card :is(button, a.btn).secondary {
    background-color: var(--accent-background);
    color: var(--accent-foreground);
    border: 1px solid var(--accent-background);
}

.form-card :is(button, a.btn).secondary:not(:disabled):is(:hover, :focus, :active) {
    background-color: var(--accent-hover-background);
    color: var(--accent-hover-foreground);
    border-bottom: 1px solid var(--accent-hover-foreground);
}

.form-card :is(button, a.btn).primary {
    background-color: var(--accent-foreground);
    color: var(--accent-background);
    border: 1px solid var(--accent-foreground);
    text-decoration: none;
}

.form-card :is(button, a.btn).primary:not(:disabled):is(:hover, :focus, :active) {
    background-color: var(--accent-hover-foreground);
    color: var(--accent-hover-background);
    border-bottom: 1px solid var(--accent-hover-background);
}

.form-card :is(button, a.btn).secondary a {
    color: var(--accent-foreground);
    text-decoration: none;
}

.form-card :is(button, a.btn).secondary:is(:hover, :focus, :active) a {
    color: var(--accent-hover-foreground);
}

.form-card form {
    margin: 0;
}

.errorlist {
    color: red;
    font-size: 0.8em;
    margin: 0;
    padding: 0;
    list-style: none;
    text-align: right;
}

.strength-indicator {
    --strength: 0;
    --height: 5px;
    --background: hsl(calc(var(--strength) + 1.3), 100%, 50%);
    background: linear-gradient(90deg, var(--background) 0%, var(--background) calc(var(--strength) * 1%), #fff calc(var(--strength) * 1%), #fff 100%);
    border-radius: 3px;
    height: var(--height);
    width: 100%;
    margin-bottom: calc(var(--height) * -1);
    transition: background 0.2s ease-in-out;
}

/* Acceptable password strength indication */
.strength-indicator:before {
    --strength: 80%;
    --width: 2%;
    --color: green;
    --height: 5px;
    content: "";
    position: absolute;
    top: 39px;
    left: 0;
    width: 100%;
    height: var(--height);
    background: linear-gradient(90deg, transparent calc(var(--strength) - var(--width) / 2), var(--color) calc(var(--strength) - var(--width) / 2), var(--color) calc(var(--strength) + var(--width) / 2), transparent calc(var(--strength) + var(--width) / 2));
    border-radius: 3px;
    transition: background 0.2s ease-in-out;
}

.field:is(:not(:focus-within), .empty_input, :not(.has-suggestions)) :is(.password-suggestions, .suggestion-arrow) {
    display: none;
}

.field {
    --tooltip-shadow: 2px 2px 5px rgba(0,0,0,0.5);
}

.password-suggestions {
    position: absolute;
    margin: 0;
    padding: 1em;
    list-style: none;
    font-size: 0.8em;
    z-index: 2;
    background: var(--accent-background);
    top: 0;
    right: calc(100% + 10px);
    left: -100%;
    border-radius: 10px;
    border-top-right-radius: 0;
    box-shadow: var(--tooltip-shadow);
}

.password-suggestions .warning {
    color: red;
}

.suggestion-arrow:before, .suggestion-arrow:after {
    content: 'â–¶';
    position: absolute;
    top: 0;
    right: 100%;
    color: var(--accent-background);
    transform: scale(2);
}

.suggestion-arrow:after {
    text-shadow: var(--tooltip-shadow);
}

.suggestion-arrow:before {
    z-index: 3;
}

@media (max-width: 1000px) {
    .password-suggestions {
        left: 0;
        right: auto;
        top: calc(100% + 10px);
        border-top-right-radius: 10px;
        border-top-left-radius: 0;
    }

    .suggestion-arrow:before, .suggestion-arrow:after {
        right: auto;
        left: 12px;
        top: calc(100% - 10px);
        transform: scale(2) rotate(-90deg);
    }
}

.form-card .password-visibility {
    position: absolute;

    background-repeat: no-repeat;
    background-position: center;
    background-size: contain;
    background-origin: content-box;

    top: 0;
    right: 0;
    height: 39px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    z-index: 1;
    width: 3em;
    padding: 5px;
}

.form-card .password-visibility.tall {
    /*height: calc(100% - 5px);*/
}

.form-card .field.show-password .password-visibility {
    background-image: url('/static/images/eye.svg');
}

.form-card .field:not(.show-password) .password-visibility {
    background-image: url('/static/images/eye-slash.svg');
}

@media (min-width: 1000px) {
    body {
        overflow: hidden;
    }

    .form-col-background {
        position: absolute;
    }
}

.form-card p {
    white-space: pre-line;
    max-width: 80ch;
}
